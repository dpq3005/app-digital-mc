<div class="header bg-gradient-magenta py-7 py-lg-8">
  <div class="container">
    <div class="header-body text-center mb-5">
      <div class="row justify-content-center">
        <div class="col-lg-5 col-md-6">
          <h1 *ngIf="!isRedeemed" class="text-white">Please enter your PIN to submit redemption</h1>
          <!--          <p class="text-lead text-light">Use these awesome forms to login or create new account in your project for free.</p>-->
        </div>
      </div>
    </div>
  </div>
  <div class="separator separator-bottom separator-skew zindex-100">
    <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
      <polygon class="fill-default" points="2560 0 2560 100 0 100"></polygon>
    </svg>
  </div>
</div>
<!-- Page content -->
<div class="container mt--8 pb-5">
  <div class="row justify-content-center">
    <div class="col-lg-5 col-md-7">
      <div class="card bg-secondary shadow border-0">
        <div *ngIf="!isRedeemed" class="card-body px-lg-5 py-lg-5">
          <div class="text-left">
            <div class="section msg-border">
              Please enter the assigned 6-digit centre pin for verification.
            </div>

            <div class="section text-center">
              <input [(ngModel)]="digit1" appPinDigit type="number" pattern="[0-9]*" id="digit1" name="digit1"
                     class="ipt_pin form-control input-xlarge digit-input" data-indx="0" data-next-id="digit2" value=""
                     size="1" maxlength="1" autocomplete="off" placeholder=""/>

              <input [(ngModel)]="digit2" appPinDigit type="number" pattern="[0-9]*" id="digit2" name="digit2"
                     class="ipt_pin form-control input-xlarge digit-input" data-indx="0" data-next-id="digit2" value=""
                     size="1" maxlength="1" autocomplete="off" placeholder=""/>

              <input [(ngModel)]="digit3" appPinDigit type="number" pattern="[0-9]*" id="digit3" name="digit3"
                     class="ipt_pin form-control input-xlarge digit-input" data-indx="0" data-next-id="digit2" value=""
                     size="1" maxlength="1" autocomplete="off" placeholder=""/>

              <input [(ngModel)]="digit4" appPinDigit type="number" pattern="[0-9]*" id="digit4" name="digit4"
                     class="ipt_pin form-control input-xlarge digit-input" data-indx="0" data-next-id="digit2" value=""
                     size="1" maxlength="1" autocomplete="off" placeholder=""/>

              <input [(ngModel)]="digit5" appPinDigit type="number" pattern="[0-9]*" id="digit5" name="digit5"
                     class="ipt_pin form-control input-xlarge digit-input" data-indx="0" data-next-id="digit2" value=""
                     size="1" maxlength="1" autocomplete="off" placeholder=""/>

              <input [(ngModel)]="digit6" appPinDigit type="number" pattern="[0-9]*" id="digit6" name="digit6"
                     class="ipt_pin form-control input-xlarge digit-input" data-indx="0" data-next-id="digit2" value=""
                     size="1" maxlength="1" autocomplete="off" placeholder=""/>
            </div>

            <div class="mt-1">
              <button class="form-control btn-verify btn btn-outline-success" (click)="openModal(content); verify()"
                      type="button">VERIFY AND SUBMIT REDEMPTION
              </button>
            </div>
          </div>
          <ng-template #content let-modal>
            <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title">PIN Verification</h4>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div *ngIf="!loginStatus" class="text-center">
                <h4>Checking pin code...</h4>
                <div class="lds-roller">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
              <div class="text-center">{{loginStatus}}</div>
            </div>
            <div class="modal-footer">
              <button *ngIf="loginStatus" type="button" class="btn btn-primary" (click)="modal.close('Dismissed')">OK
              </button>
            </div>
          </ng-template>
        </div>

        <div *ngIf="isRedeemed" class="card-body px-lg-5 py-lg-5">
          <div class="text-left">
            <div class="section msg-border text-center">
              <h3>Medical Chit successfully redeemed!</h3>
              <a routerLink="/merchant/dmc/list" class="btn btn-primary">Redeem other medical chits</a>
            </div>
          </div>
        </div>
      </div>
      <!--      <div class="row mt-3">-->
      <!--        <div class="col-6">-->
      <!--          <a href="javascript:void(0)" class="text-light"><small>Forgot password?</small></a>-->
      <!--        </div>-->
      <!--        <div class="col-6 text-right">-->
      <!--          <a href="javascript:void(0)" class="text-light"><small>Create new account</small></a>-->
      <!--        </div>-->
      <!--      </div>-->
    </div>
  </div>
</div>
